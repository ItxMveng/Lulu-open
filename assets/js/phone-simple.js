// Liste complÃ¨te des pays avec drapeaux emoji
const countries = {
    'AD': {code: '+376', name: 'Andorre', flag: 'ðŸ‡¦ðŸ‡©'},
    'AE': {code: '+971', name: 'Ã‰mirats arabes unis', flag: 'ðŸ‡¦ðŸ‡ª'},
    'AF': {code: '+93', name: 'Afghanistan', flag: 'ðŸ‡¦ðŸ‡«'},
    'AG': {code: '+1268', name: 'Antigua-et-Barbuda', flag: 'ðŸ‡¦ðŸ‡¬'},
    'AI': {code: '+1264', name: 'Anguilla', flag: 'ðŸ‡¦ðŸ‡®'},
    'AL': {code: '+355', name: 'Albanie', flag: 'ðŸ‡¦ðŸ‡±'},
    'AM': {code: '+374', name: 'ArmÃ©nie', flag: 'ðŸ‡¦ðŸ‡²'},
    'AO': {code: '+244', name: 'Angola', flag: 'ðŸ‡¦ðŸ‡´'},
    'AR': {code: '+54', name: 'Argentine', flag: 'ðŸ‡¦ðŸ‡·'},
    'AS': {code: '+1684', name: 'Samoa amÃ©ricaines', flag: 'ðŸ‡¦ðŸ‡¸'},
    'AT': {code: '+43', name: 'Autriche', flag: 'ðŸ‡¦ðŸ‡¹'},
    'AU': {code: '+61', name: 'Australie', flag: 'ðŸ‡¦ðŸ‡º'},
    'AW': {code: '+297', name: 'Aruba', flag: 'ðŸ‡¦ðŸ‡¼'},
    'AZ': {code: '+994', name: 'AzerbaÃ¯djan', flag: 'ðŸ‡¦ðŸ‡¿'},
    'BA': {code: '+387', name: 'Bosnie-HerzÃ©govine', flag: 'ðŸ‡§ðŸ‡¦'},
    'BB': {code: '+1246', name: 'Barbade', flag: 'ðŸ‡§ðŸ‡§'},
    'BD': {code: '+880', name: 'Bangladesh', flag: 'ðŸ‡§ðŸ‡©'},
    'BE': {code: '+32', name: 'Belgique', flag: 'ðŸ‡§ðŸ‡ª'},
    'BF': {code: '+226', name: 'Burkina Faso', flag: 'ðŸ‡§ðŸ‡«'},
    'BG': {code: '+359', name: 'Bulgarie', flag: 'ðŸ‡§ðŸ‡¬'},
    'BH': {code: '+973', name: 'BahreÃ¯n', flag: 'ðŸ‡§ðŸ‡­'},
    'BI': {code: '+257', name: 'Burundi', flag: 'ðŸ‡§ðŸ‡®'},
    'BJ': {code: '+229', name: 'BÃ©nin', flag: 'ðŸ‡§ðŸ‡¯'},
    'BM': {code: '+1441', name: 'Bermudes', flag: 'ðŸ‡§ðŸ‡²'},
    'BN': {code: '+673', name: 'Brunei', flag: 'ðŸ‡§ðŸ‡³'},
    'BO': {code: '+591', name: 'Bolivie', flag: 'ðŸ‡§ðŸ‡´'},
    'BR': {code: '+55', name: 'BrÃ©sil', flag: 'ðŸ‡§ðŸ‡·'},
    'BS': {code: '+1242', name: 'Bahamas', flag: 'ðŸ‡§ðŸ‡¸'},
    'BT': {code: '+975', name: 'Bhoutan', flag: 'ðŸ‡§ðŸ‡¹'},
    'BW': {code: '+267', name: 'Botswana', flag: 'ðŸ‡§ðŸ‡¼'},
    'BY': {code: '+375', name: 'BiÃ©lorussie', flag: 'ðŸ‡§ðŸ‡¾'},
    'BZ': {code: '+501', name: 'Belize', flag: 'ðŸ‡§ðŸ‡¿'},
    'CA': {code: '+1', name: 'Canada', flag: 'ðŸ‡¨ðŸ‡¦'},
    'CD': {code: '+243', name: 'RÃ©publique dÃ©mocratique du Congo', flag: 'ðŸ‡¨ðŸ‡©'},
    'CF': {code: '+236', name: 'RÃ©publique centrafricaine', flag: 'ðŸ‡¨ðŸ‡«'},
    'CG': {code: '+242', name: 'RÃ©publique du Congo', flag: 'ðŸ‡¨ðŸ‡¬'},
    'CH': {code: '+41', name: 'Suisse', flag: 'ðŸ‡¨ðŸ‡­'},
    'CI': {code: '+225', name: 'CÃ´te d\'Ivoire', flag: 'ðŸ‡¨ðŸ‡®'},
    'CL': {code: '+56', name: 'Chili', flag: 'ðŸ‡¨ðŸ‡±'},
    'CM': {code: '+237', name: 'Cameroun', flag: 'ðŸ‡¨ðŸ‡²'},
    'CN': {code: '+86', name: 'Chine', flag: 'ðŸ‡¨ðŸ‡³'},
    'CO': {code: '+57', name: 'Colombie', flag: 'ðŸ‡¨ðŸ‡´'},
    'CR': {code: '+506', name: 'Costa Rica', flag: 'ðŸ‡¨ðŸ‡·'},
    'CU': {code: '+53', name: 'Cuba', flag: 'ðŸ‡¨ðŸ‡º'},
    'CV': {code: '+238', name: 'Cap-Vert', flag: 'ðŸ‡¨ðŸ‡»'},
    'CY': {code: '+357', name: 'Chypre', flag: 'ðŸ‡¨ðŸ‡¾'},
    'CZ': {code: '+420', name: 'RÃ©publique tchÃ¨que', flag: 'ðŸ‡¨ðŸ‡¿'},
    'DE': {code: '+49', name: 'Allemagne', flag: 'ðŸ‡©ðŸ‡ª'},
    'DJ': {code: '+253', name: 'Djibouti', flag: 'ðŸ‡©ðŸ‡¯'},
    'DK': {code: '+45', name: 'Danemark', flag: 'ðŸ‡©ðŸ‡°'},
    'DM': {code: '+1767', name: 'Dominique', flag: 'ðŸ‡©ðŸ‡²'},
    'DO': {code: '+1809', name: 'RÃ©publique dominicaine', flag: 'ðŸ‡©ðŸ‡´'},
    'DZ': {code: '+213', name: 'AlgÃ©rie', flag: 'ðŸ‡©ðŸ‡¿'},
    'EC': {code: '+593', name: 'Ã‰quateur', flag: 'ðŸ‡ªðŸ‡¨'},
    'EE': {code: '+372', name: 'Estonie', flag: 'ðŸ‡ªðŸ‡ª'},
    'EG': {code: '+20', name: 'Ã‰gypte', flag: 'ðŸ‡ªðŸ‡¬'},
    'ER': {code: '+291', name: 'Ã‰rythrÃ©e', flag: 'ðŸ‡ªðŸ‡·'},
    'ES': {code: '+34', name: 'Espagne', flag: 'ðŸ‡ªðŸ‡¸'},
    'ET': {code: '+251', name: 'Ã‰thiopie', flag: 'ðŸ‡ªðŸ‡¹'},
    'FI': {code: '+358', name: 'Finlande', flag: 'ðŸ‡«ðŸ‡®'},
    'FJ': {code: '+679', name: 'Fidji', flag: 'ðŸ‡«ðŸ‡¯'},
    'FM': {code: '+691', name: 'MicronÃ©sie', flag: 'ðŸ‡«ðŸ‡²'},
    'FR': {code: '+33', name: 'France', flag: 'ðŸ‡«ðŸ‡·'},
    'GA': {code: '+241', name: 'Gabon', flag: 'ðŸ‡¬ðŸ‡¦'},
    'GB': {code: '+44', name: 'Royaume-Uni', flag: 'ðŸ‡¬ðŸ‡§'},
    'GD': {code: '+1473', name: 'Grenade', flag: 'ðŸ‡¬ðŸ‡©'},
    'GE': {code: '+995', name: 'GÃ©orgie', flag: 'ðŸ‡¬ðŸ‡ª'},
    'GH': {code: '+233', name: 'Ghana', flag: 'ðŸ‡¬ðŸ‡­'},
    'GM': {code: '+220', name: 'Gambie', flag: 'ðŸ‡¬ðŸ‡²'},
    'GN': {code: '+224', name: 'GuinÃ©e', flag: 'ðŸ‡¬ðŸ‡³'},
    'GQ': {code: '+240', name: 'GuinÃ©e Ã©quatoriale', flag: 'ðŸ‡¬ðŸ‡¶'},
    'GR': {code: '+30', name: 'GrÃ¨ce', flag: 'ðŸ‡¬ðŸ‡·'},
    'GT': {code: '+502', name: 'Guatemala', flag: 'ðŸ‡¬ðŸ‡¹'},
    'GW': {code: '+245', name: 'GuinÃ©e-Bissau', flag: 'ðŸ‡¬ðŸ‡¼'},
    'GY': {code: '+592', name: 'Guyana', flag: 'ðŸ‡¬ðŸ‡¾'},
    'HK': {code: '+852', name: 'Hong Kong', flag: 'ðŸ‡­ðŸ‡°'},
    'HN': {code: '+504', name: 'Honduras', flag: 'ðŸ‡­ðŸ‡³'},
    'HR': {code: '+385', name: 'Croatie', flag: 'ðŸ‡­ðŸ‡·'},
    'HT': {code: '+509', name: 'HaÃ¯ti', flag: 'ðŸ‡­ðŸ‡¹'},
    'HU': {code: '+36', name: 'Hongrie', flag: 'ðŸ‡­ðŸ‡º'},
    'ID': {code: '+62', name: 'IndonÃ©sie', flag: 'ðŸ‡®ðŸ‡©'},
    'IE': {code: '+353', name: 'Irlande', flag: 'ðŸ‡®ðŸ‡ª'},
    'IL': {code: '+972', name: 'IsraÃ«l', flag: 'ðŸ‡®ðŸ‡±'},
    'IN': {code: '+91', name: 'Inde', flag: 'ðŸ‡®ðŸ‡³'},
    'IQ': {code: '+964', name: 'Irak', flag: 'ðŸ‡®ðŸ‡¶'},
    'IR': {code: '+98', name: 'Iran', flag: 'ðŸ‡®ðŸ‡·'},
    'IS': {code: '+354', name: 'Islande', flag: 'ðŸ‡®ðŸ‡¸'},
    'IT': {code: '+39', name: 'Italie', flag: 'ðŸ‡®ðŸ‡¹'},
    'JM': {code: '+1876', name: 'JamaÃ¯que', flag: 'ðŸ‡¯ðŸ‡²'},
    'JO': {code: '+962', name: 'Jordanie', flag: 'ðŸ‡¯ðŸ‡´'},
    'JP': {code: '+81', name: 'Japon', flag: 'ðŸ‡¯ðŸ‡µ'},
    'KE': {code: '+254', name: 'Kenya', flag: 'ðŸ‡°ðŸ‡ª'},
    'KG': {code: '+996', name: 'Kirghizistan', flag: 'ðŸ‡°ðŸ‡¬'},
    'KH': {code: '+855', name: 'Cambodge', flag: 'ðŸ‡°ðŸ‡­'},
    'KI': {code: '+686', name: 'Kiribati', flag: 'ðŸ‡°ðŸ‡®'},
    'KM': {code: '+269', name: 'Comores', flag: 'ðŸ‡°ðŸ‡²'},
    'KN': {code: '+1869', name: 'Saint-Kitts-et-Nevis', flag: 'ðŸ‡°ðŸ‡³'},
    'KP': {code: '+850', name: 'CorÃ©e du Nord', flag: 'ðŸ‡°ðŸ‡µ'},
    'KR': {code: '+82', name: 'CorÃ©e du Sud', flag: 'ðŸ‡°ðŸ‡·'},
    'KW': {code: '+965', name: 'KoweÃ¯t', flag: 'ðŸ‡°ðŸ‡¼'},
    'KZ': {code: '+7', name: 'Kazakhstan', flag: 'ðŸ‡°ðŸ‡¿'},
    'LA': {code: '+856', name: 'Laos', flag: 'ðŸ‡±ðŸ‡¦'},
    'LB': {code: '+961', name: 'Liban', flag: 'ðŸ‡±ðŸ‡§'},
    'LC': {code: '+1758', name: 'Sainte-Lucie', flag: 'ðŸ‡±ðŸ‡¨'},
    'LI': {code: '+423', name: 'Liechtenstein', flag: 'ðŸ‡±ðŸ‡®'},
    'LK': {code: '+94', name: 'Sri Lanka', flag: 'ðŸ‡±ðŸ‡°'},
    'LR': {code: '+231', name: 'Liberia', flag: 'ðŸ‡±ðŸ‡·'},
    'LS': {code: '+266', name: 'Lesotho', flag: 'ðŸ‡±ðŸ‡¸'},
    'LT': {code: '+370', name: 'Lituanie', flag: 'ðŸ‡±ðŸ‡¹'},
    'LU': {code: '+352', name: 'Luxembourg', flag: 'ðŸ‡±ðŸ‡º'},
    'LV': {code: '+371', name: 'Lettonie', flag: 'ðŸ‡±ðŸ‡»'},
    'LY': {code: '+218', name: 'Libye', flag: 'ðŸ‡±ðŸ‡¾'},
    'MA': {code: '+212', name: 'Maroc', flag: 'ðŸ‡²ðŸ‡¦'},
    'MC': {code: '+377', name: 'Monaco', flag: 'ðŸ‡²ðŸ‡¨'},
    'MD': {code: '+373', name: 'Moldavie', flag: 'ðŸ‡²ðŸ‡©'},
    'ME': {code: '+382', name: 'MontÃ©nÃ©gro', flag: 'ðŸ‡²ðŸ‡ª'},
    'MG': {code: '+261', name: 'Madagascar', flag: 'ðŸ‡²ðŸ‡¬'},
    'MH': {code: '+692', name: 'ÃŽles Marshall', flag: 'ðŸ‡²ðŸ‡­'},
    'MK': {code: '+389', name: 'MacÃ©doine du Nord', flag: 'ðŸ‡²ðŸ‡°'},
    'ML': {code: '+223', name: 'Mali', flag: 'ðŸ‡²ðŸ‡±'},
    'MM': {code: '+95', name: 'Myanmar', flag: 'ðŸ‡²ðŸ‡²'},
    'MN': {code: '+976', name: 'Mongolie', flag: 'ðŸ‡²ðŸ‡³'},
    'MO': {code: '+853', name: 'Macao', flag: 'ðŸ‡²ðŸ‡´'},
    'MR': {code: '+222', name: 'Mauritanie', flag: 'ðŸ‡²ðŸ‡·'},
    'MS': {code: '+1664', name: 'Montserrat', flag: 'ðŸ‡²ðŸ‡¸'},
    'MT': {code: '+356', name: 'Malte', flag: 'ðŸ‡²ðŸ‡¹'},
    'MU': {code: '+230', name: 'Maurice', flag: 'ðŸ‡²ðŸ‡º'},
    'MV': {code: '+960', name: 'Maldives', flag: 'ðŸ‡²ðŸ‡»'},
    'MW': {code: '+265', name: 'Malawi', flag: 'ðŸ‡²ðŸ‡¼'},
    'MX': {code: '+52', name: 'Mexique', flag: 'ðŸ‡²ðŸ‡½'},
    'MY': {code: '+60', name: 'Malaisie', flag: 'ðŸ‡²ðŸ‡¾'},
    'MZ': {code: '+258', name: 'Mozambique', flag: 'ðŸ‡²ðŸ‡¿'},
    'NA': {code: '+264', name: 'Namibie', flag: 'ðŸ‡³ðŸ‡¦'},
    'NC': {code: '+687', name: 'Nouvelle-CalÃ©donie', flag: 'ðŸ‡³ðŸ‡¨'},
    'NE': {code: '+227', name: 'Niger', flag: 'ðŸ‡³ðŸ‡ª'},
    'NG': {code: '+234', name: 'Nigeria', flag: 'ðŸ‡³ðŸ‡¬'},
    'NI': {code: '+505', name: 'Nicaragua', flag: 'ðŸ‡³ðŸ‡®'},
    'NL': {code: '+31', name: 'Pays-Bas', flag: 'ðŸ‡³ðŸ‡±'},
    'NO': {code: '+47', name: 'NorvÃ¨ge', flag: 'ðŸ‡³ðŸ‡´'},
    'NP': {code: '+977', name: 'NÃ©pal', flag: 'ðŸ‡³ðŸ‡µ'},
    'NR': {code: '+674', name: 'Nauru', flag: 'ðŸ‡³ðŸ‡·'},
    'NU': {code: '+683', name: 'Niue', flag: 'ðŸ‡³ðŸ‡º'},
    'NZ': {code: '+64', name: 'Nouvelle-ZÃ©lande', flag: 'ðŸ‡³ðŸ‡¿'},
    'OM': {code: '+968', name: 'Oman', flag: 'ðŸ‡´ðŸ‡²'},
    'PA': {code: '+507', name: 'Panama', flag: 'ðŸ‡µðŸ‡¦'},
    'PE': {code: '+51', name: 'PÃ©rou', flag: 'ðŸ‡µðŸ‡ª'},
    'PF': {code: '+689', name: 'PolynÃ©sie franÃ§aise', flag: 'ðŸ‡µðŸ‡«'},
    'PG': {code: '+675', name: 'Papouasie-Nouvelle-GuinÃ©e', flag: 'ðŸ‡µðŸ‡¬'},
    'PH': {code: '+63', name: 'Philippines', flag: 'ðŸ‡µðŸ‡­'},
    'PK': {code: '+92', name: 'Pakistan', flag: 'ðŸ‡µðŸ‡°'},
    'PL': {code: '+48', name: 'Pologne', flag: 'ðŸ‡µðŸ‡±'},
    'PM': {code: '+508', name: 'Saint-Pierre-et-Miquelon', flag: 'ðŸ‡µðŸ‡²'},
    'PR': {code: '+1787', name: 'Porto Rico', flag: 'ðŸ‡µðŸ‡·'},
    'PS': {code: '+970', name: 'Palestine', flag: 'ðŸ‡µðŸ‡¸'},
    'PT': {code: '+351', name: 'Portugal', flag: 'ðŸ‡µðŸ‡¹'},
    'PW': {code: '+680', name: 'Palaos', flag: 'ðŸ‡µðŸ‡¼'},
    'PY': {code: '+595', name: 'Paraguay', flag: 'ðŸ‡µðŸ‡¾'},
    'QA': {code: '+974', name: 'Qatar', flag: 'ðŸ‡¶ðŸ‡¦'},
    'RE': {code: '+262', name: 'La RÃ©union', flag: 'ðŸ‡·ðŸ‡ª'},
    'RO': {code: '+40', name: 'Roumanie', flag: 'ðŸ‡·ðŸ‡´'},
    'RS': {code: '+381', name: 'Serbie', flag: 'ðŸ‡·ðŸ‡¸'},
    'RU': {code: '+7', name: 'Russie', flag: 'ðŸ‡·ðŸ‡º'},
    'RW': {code: '+250', name: 'Rwanda', flag: 'ðŸ‡·ðŸ‡¼'},
    'SA': {code: '+966', name: 'Arabie saoudite', flag: 'ðŸ‡¸ðŸ‡¦'},
    'SB': {code: '+677', name: 'ÃŽles Salomon', flag: 'ðŸ‡¸ðŸ‡§'},
    'SC': {code: '+248', name: 'Seychelles', flag: 'ðŸ‡¸ðŸ‡¨'},
    'SD': {code: '+249', name: 'Soudan', flag: 'ðŸ‡¸ðŸ‡©'},
    'SE': {code: '+46', name: 'SuÃ¨de', flag: 'ðŸ‡¸ðŸ‡ª'},
    'SG': {code: '+65', name: 'Singapour', flag: 'ðŸ‡¸ðŸ‡¬'},
    'SH': {code: '+290', name: 'Sainte-HÃ©lÃ¨ne', flag: 'ðŸ‡¸ðŸ‡­'},
    'SI': {code: '+386', name: 'SlovÃ©nie', flag: 'ðŸ‡¸ðŸ‡®'},
    'SK': {code: '+421', name: 'Slovaquie', flag: 'ðŸ‡¸ðŸ‡°'},
    'SL': {code: '+232', name: 'Sierra Leone', flag: 'ðŸ‡¸ðŸ‡±'},
    'SM': {code: '+378', name: 'Saint-Marin', flag: 'ðŸ‡¸ðŸ‡²'},
    'SN': {code: '+221', name: 'SÃ©nÃ©gal', flag: 'ðŸ‡¸ðŸ‡³'},
    'SO': {code: '+252', name: 'Somalie', flag: 'ðŸ‡¸ðŸ‡´'},
    'SR': {code: '+597', name: 'Suriname', flag: 'ðŸ‡¸ðŸ‡·'},
    'SS': {code: '+211', name: 'Soudan du Sud', flag: 'ðŸ‡¸ðŸ‡¸'},
    'ST': {code: '+239', name: 'Sao TomÃ©-et-Principe', flag: 'ðŸ‡¸ðŸ‡¹'},
    'SV': {code: '+503', name: 'El Salvador', flag: 'ðŸ‡¸ðŸ‡»'},
    'SY': {code: '+963', name: 'Syrie', flag: 'ðŸ‡¸ðŸ‡¾'},
    'SZ': {code: '+268', name: 'Eswatini', flag: 'ðŸ‡¸ðŸ‡¿'},
    'TC': {code: '+1649', name: 'ÃŽles Turques-et-CaÃ¯ques', flag: 'ðŸ‡¹ðŸ‡¨'},
    'TD': {code: '+235', name: 'Tchad', flag: 'ðŸ‡¹ðŸ‡©'},
    'TG': {code: '+228', name: 'Togo', flag: 'ðŸ‡¹ðŸ‡¬'},
    'TH': {code: '+66', name: 'ThaÃ¯lande', flag: 'ðŸ‡¹ðŸ‡­'},
    'TJ': {code: '+992', name: 'Tadjikistan', flag: 'ðŸ‡¹ðŸ‡¯'},
    'TK': {code: '+690', name: 'Tokelau', flag: 'ðŸ‡¹ðŸ‡°'},
    'TL': {code: '+670', name: 'Timor oriental', flag: 'ðŸ‡¹ðŸ‡±'},
    'TM': {code: '+993', name: 'TurkmÃ©nistan', flag: 'ðŸ‡¹ðŸ‡²'},
    'TN': {code: '+216', name: 'Tunisie', flag: 'ðŸ‡¹ðŸ‡³'},
    'TO': {code: '+676', name: 'Tonga', flag: 'ðŸ‡¹ðŸ‡´'},
    'TR': {code: '+90', name: 'Turquie', flag: 'ðŸ‡¹ðŸ‡·'},
    'TT': {code: '+1868', name: 'TrinitÃ©-et-Tobago', flag: 'ðŸ‡¹ðŸ‡¹'},
    'TV': {code: '+688', name: 'Tuvalu', flag: 'ðŸ‡¹ðŸ‡»'},
    'TW': {code: '+886', name: 'TaÃ¯wan', flag: 'ðŸ‡¹ðŸ‡¼'},
    'TZ': {code: '+255', name: 'Tanzanie', flag: 'ðŸ‡¹ðŸ‡¿'},
    'UA': {code: '+380', name: 'Ukraine', flag: 'ðŸ‡ºðŸ‡¦'},
    'UG': {code: '+256', name: 'Ouganda', flag: 'ðŸ‡ºðŸ‡¬'},
    'US': {code: '+1', name: 'Ã‰tats-Unis', flag: 'ðŸ‡ºðŸ‡¸'},
    'UY': {code: '+598', name: 'Uruguay', flag: 'ðŸ‡ºðŸ‡¾'},
    'UZ': {code: '+998', name: 'OuzbÃ©kistan', flag: 'ðŸ‡ºðŸ‡¿'},
    'VA': {code: '+39', name: 'Vatican', flag: 'ðŸ‡»ðŸ‡¦'},
    'VC': {code: '+1784', name: 'Saint-Vincent-et-les-Grenadines', flag: 'ðŸ‡»ðŸ‡¨'},
    'VE': {code: '+58', name: 'Venezuela', flag: 'ðŸ‡»ðŸ‡ª'},
    'VG': {code: '+1284', name: 'ÃŽles Vierges britanniques', flag: 'ðŸ‡»ðŸ‡¬'},
    'VI': {code: '+1340', name: 'ÃŽles Vierges amÃ©ricaines', flag: 'ðŸ‡»ðŸ‡®'},
    'VN': {code: '+84', name: 'Vietnam', flag: 'ðŸ‡»ðŸ‡³'},
    'VU': {code: '+678', name: 'Vanuatu', flag: 'ðŸ‡»ðŸ‡º'},
    'WF': {code: '+681', name: 'Wallis-et-Futuna', flag: 'ðŸ‡¼ðŸ‡«'},
    'WS': {code: '+685', name: 'Samoa', flag: 'ðŸ‡¼ðŸ‡¸'},
    'YE': {code: '+967', name: 'YÃ©men', flag: 'ðŸ‡¾ðŸ‡ª'},
    'YT': {code: '+262', name: 'Mayotte', flag: 'ðŸ‡¾ðŸ‡¹'},
    'ZA': {code: '+27', name: 'Afrique du Sud', flag: 'ðŸ‡¿ðŸ‡¦'},
    'ZM': {code: '+260', name: 'Zambie', flag: 'ðŸ‡¿ðŸ‡²'},
    'ZW': {code: '+263', name: 'Zimbabwe', flag: 'ðŸ‡¿ðŸ‡¼'}
};

function initSimplePhone(inputId) {
    const input = document.getElementById(inputId);
    if (!input) return;

    // CrÃ©er le conteneur
    const container = document.createElement('div');
    container.className = 'input-group';
    
    const select = document.createElement('select');
    select.className = 'form-select';
    select.style.maxWidth = '120px';
    select.name = 'country_code';
    
    // Ajouter les options avec drapeaux
    Object.entries(countries).forEach(([code, country]) => {
        const option = document.createElement('option');
        option.value = country.code;
        option.textContent = `${country.flag} ${country.name} ${country.code}`;
        if (code === 'FR') option.selected = true;
        select.appendChild(option);
    });

    // Remplacer l'input
    input.parentNode.insertBefore(container, input);
    container.appendChild(select);
    container.appendChild(input);
    
    input.placeholder = '6 12 34 56 78';

    // DÃ©tecter le pays automatiquement
    fetch('/lulu/api/get-user-country.php')
        .then(r => r.json())
        .then(data => {
            if (data.country_code && countries[data.country_code]) {
                select.value = countries[data.country_code].code;
            }
        })
        .catch(() => {});
}

// Initialiser au chargement
document.addEventListener('DOMContentLoaded', () => {
    if (document.getElementById('phoneInput')) {
        initSimplePhone('phoneInput');
    }
});